function customImagePageInit(){selectedPageBackground(),displayDailyQuote(),display_greeting(),getImageIds(),imageExistCheck(),displayCurrentTime(),nIntervId=setInterval(function(){displayCurrentTime()},2e3)}function imageExistCheck(){for(var a=0;a<localStorage.length;a++)if(localStorage.getItem(a).length<10){var b="https://source.unsplash.com/random",c=convertFileToDataURLviaFileReader;c(b,function(b){localStorage.setItem(a,b)})}}function selectedPageBackground(){chrome.storage.sync.get("page_background_image",function(a){if(void 0!=a.page_background_image){if(use_default_img=!1,a.page_background_image==DEFAULT_IMAGE)var b=DEFAULT_IMAGE;else var b=localStorage.getItem(a.page_background_image);page_wraper.style.backgroundImage="url("+b+")",page_wraper.style.opacity=1}else{page_wraper.style.backgroundImage="url("+DEFAULT_IMAGE+")",page_wraper.style.opacity=1;var c=document.getElementById("startup");c.style.display="block",c.innerHTML="";var d=document.createElement("img");d.src="images/intro.jpg",d.title="Click to Close Guide.",c.appendChild(d),c.addEventListener("click",function(){c.style.display="none"})}})}function displayDailyQuote(){chrome.storage.sync.get("quote",function(a){void 0!=a.quote?quote_wraper.innerHTML=a.quote:getQuote()})}function getImageIds(){chrome.storage.sync.get("image_change_time",function(a){if(void 0!=a.image_change_time){var b=getCurrentDate(),c=a.image_change_time;if(is_next_day=b.day!=c.day)if(navigator.onLine)chrome.storage.sync.set({image_processed:image_refreshed},function(){generateImageRandomIds()});else{for(var d=0;d<=IMAGE_LIMIT;d++)image_refreshed[d]=!0;chrome.storage.sync.set({image_processed:image_refreshed},function(){generateImageRandomIds()})}else chrome.storage.sync.get("image_processed",function(a){if(void 0!=a.image_processed)for(var b=0;b<=IMAGE_LIMIT;b++)image_refreshed[b]=a.image_processed[b];generateImageRandomIds()})}else is_next_day=!0,chrome.storage.sync.get("image_processed",function(a){if(void 0!=a.image_processed)for(var b=0;b<=IMAGE_LIMIT;b++)image_refreshed[b]=a.image_processed[b];generateImageRandomIds()});if(navigator.onLine)for(var e=0;e<=IMAGE_LIMIT;e++)image_refreshed[e]=!1})}function generateImageRandomIds(a){var a=a||0;if(navigator.onLine||(is_next_day=!1),is_next_day){createImageThumbs();convertFileToDataURLviaFileReader("https://source.unsplash.com/random",function(a){localStorage.setItem(0,a);var b=getCurrentDate();chrome.storage.sync.set({image_change_time:b},function(){}),image_refreshed[0]=!0,chrome.storage.sync.set({image_processed:image_refreshed},function(){}),createImageThumbs(1),generateNewThumbs()}),getQuote()}else 0!=a&&navigator.onLine?(createImageThumbs(0,a),generateNewThumbs(a)):getUnprocessedImages()}function getUnprocessedImages(){for(var a=0,b=0;b<image_refreshed.length;b++)0==image_refreshed[b]&&navigator.onLine&&(generateNewThumbs(b),a=1,createImageThumbs());0==a&&createImageThumbs()}function generateNewThumbs(a){var b=a||0,c=screen.width,d=screen.height,e=1,g=!1;0!=b&&(e=b);var h=function(){e<=IMAGE_LIMIT?e!=b&&0!=b||1==image_refreshed[e]?(e++,h()):chrome.storage.sync.get("fav_images",function(a){if(void 0!=a.fav_images&&"true"==a.fav_images[e]?(g=!1,image_refreshed[e]=!0,chrome.storage.sync.set({image_processed:image_refreshed},function(){}),e++,h()):g=!0,g){d+=e,c+=e;convertFileToDataURLviaFileReader("https://source.unsplash.com/random/"+c+"x"+d,function(a){localStorage.setItem(e,a),image_refreshed[e]=!0,chrome.storage.sync.set({image_processed:image_refreshed},function(){}),e++,createImageThumbs(),h()})}}):createImageThumbs(1)};h(localStorage.length)}function createImageThumbs(a,b){var a=a||0,d=document.getElementById("thumbs");d.innerHTML=" ";var e="",f=!1,g="images/star.png",h="transparent",i="";chrome.storage.sync.get("fav_images",function(c){void 0!=c.fav_images&&(e=c.fav_images),d.innerHTML="";for(var j=0;j<localStorage.length;j++){var k=document.createElement("li"),l=localStorage.getItem(j),m=localStorage.key(j);if("true"==e[j]?(h="#eb9c2d",f=!0,g="images/star_fill.png",i=""):(h="transparent",f=!1,g="images/star.png",i=0==image_refreshed[j]&&navigator.onLine?"loading-image":""),0!=j)var n="<input type='radio' class='img-option' id='ext-image-"+j+"' name='image-select' value='"+m+"'> <label for='ext-image-"+j+"'><img style='border-color:"+h+";' src='"+l+"'><span class='"+i+"'></span></label><span class='make-fav'><img src="+g+" class='fav-img' data-fav="+f+" data-id='"+j+"'></span>";else var n="<input type='radio' class='img-option' id='ext-image-"+j+"' name='image-select' value='"+m+"'> <label for='ext-image-"+j+"'><img src='"+l+"'><span class='"+i+"'></span></label>";k.innerHTML=n,d.appendChild(k),(is_next_day&&0==a||0==image_refreshed||j==b&&0!=b)&&change_star_visibility("none"),chrome.storage.sync.get("page_background_image",function(a){void 0==a.page_background_image&&setTimeout(function(){document.getElementsByClassName("img-option")[0].click()},500),fav_image_action()})}changeBackgroundImage()})}function getCurrentDate(){var a=new Date,b=a.getDate(),c=a.getMonth()+1;return{year:a.getFullYear(),month:c,day:b,hours:a.getHours(),minutes:a.getMinutes()}}function changeBackgroundImage(){for(var a=document.getElementsByClassName("img-option"),b=0;b<a.length;b++)a[b].addEventListener("change",function(){var a=this.value;image_src=localStorage.getItem(a),chrome.storage.sync.get("page_background_image",function(b){void 0==b.page_background_image?chrome.storage.sync.set({page_background_image:DEFAULT_IMAGE},function(){page_wraper.style.backgroundImage="url("+DEFAULT_IMAGE+")"}):chrome.storage.sync.set({page_background_image:a},function(){page_wraper.style.backgroundImage="url("+image_src+")"})})});page_wraper.className="back-animate"}function convertFileToDataURLviaFileReader(a,b){var c=new XMLHttpRequest;c.responseType="blob",c.onload=function(){var a=new FileReader;a.onloadend=function(){b(a.result)},c.response&&a.readAsDataURL(c.response)},c.open("GET",a),c.send()}function convertFileToDataURLviaFileReader2(a,b){var c=new XMLHttpRequest;c.responseType="text/javascript",c.onload=function(){var a=new FileReader;a.onloadend=function(){b(a.result)},c.response&&a.readAsDataURL(c.response)},c.open("GET",a),c.send()}function getQuote(){var a=Math.floor(Math.random()*QUOTE_LIMIT),b=quotes[a];chrome.storage.sync.set({quote:b},function(){}),displayDailyQuote()}function displayCurrentTime(){var a=new Date,b=a.getMonth(),c=a.getHours(),d=a.getMinutes(),f=(a.getSeconds(),a.getDate()),g=a.getDay(),h=a.getFullYear(),i=["January","February","March","April","May","June","July","August","September","October","November","December"],j=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];c<10&&(c="0"+c),d<10&&(d="0"+d);var k=c+" : "+d;k+="<span>"+j[g]+" "+f+" / "+i[b]+" / "+h+"</span>",time_wraper.innerHTML=k}function fav_image_action(){for(var a=document.getElementsByClassName("fav-img"),b=[],c=0;c<a.length;c++)a[c].addEventListener("click",function(){var a=this.dataset.id;"true"==this.dataset.fav?(this.src="images/star.png",this.dataset.fav=!1,fav_image_action_popup("Image Removed from Favourite !","error"),document.querySelector("label[for=ext-image-"+a+"] img").style.borderColor="#fff",get_image_fav_time(a)):(this.src="images/star_fill.png",this.dataset.fav=!0,fav_image_action_popup("Image Saved as Favourite !","success"),document.querySelector("label[for=ext-image-"+a+"] img").style.borderColor="#eb9c2d",set_image_fav_time(a));var c=this.dataset.fav;chrome.storage.sync.get("fav_images",function(d){void 0!=d.fav_images&&(b=d.fav_images),b[a]=c,chrome.storage.sync.set({fav_images:b},function(){})})})}function set_image_fav_time(a){var b=getCurrentDate(),c={};chrome.storage.sync.get("fav_images_time",function(d){if(void 0!=d.fav_images_time)for(var e=Object.keys(d.fav_images_time).length,f=1;f<=e;f++)c[f]=d.fav_images_time[f];c[a]=b,chrome.storage.sync.set({fav_images_time:c},function(){})})}function get_image_fav_time(a){navigator.onLine&&chrome.storage.sync.get("fav_images_time",function(b){if("object"==typeof b.fav_images_time[a]){getCurrentDate().day!=b.fav_images_time[a].day&&(image_refreshed[a]=!1,chrome.storage.sync.set({image_processed:image_refreshed},function(){change_star_visibility("none"),generateImageRandomIds(a)}))}})}function change_star_visibility(a){for(var b=document.getElementsByClassName("make-fav"),c=0;c<=b.length-1;c++)b[c].style.display=a}function fav_image_action_popup(a,b){var c=document.getElementById("alert"),d=c.getElementsByClassName("content")[0];d.innerHTML=a,d.style.color="success"==b?"#078a07":"#9a0909",document.getElementById("alert").className="active",setTimeout(function(){d.innerHTML="",document.getElementById("alert").className=""},2500)}function display_greeting(){var a=new Date,b=a.getHours(),c="",d=document.getElementById("greetings");c=b<12?"Good Morning":b<18?"Good Afternoon":"Good Evening",d.innerHTML=c}function load_quotes(){quotes={0:"As you grow older, you'll find the only things you regret are the things you didn't do.",1:"Don't worry if plan A fails, there are 25 more letters in the alphabet.",2:"Live for yourself.",3:"If people are talking behind your back, be happy that you are the one in front.",4:"Work hard. Dream big.",5:"Be not afraid of going slowly, be afraid only of standing still.",6:"Learn from yesterday, live for today, hope for tomorrow.",7:"I hear and I forget, I see and I remember. I do and I understand.",8:"Life must be lived forwards, but can only be understood backwards.",9:"Without Her love I can do nothing, with Her love there is nothing I cannot do.",10:"Never give advice in a crowd.",11:"Do not dwell in the past, do not dream of the future, concentrate the mind on the present moment.",12:"Nature does nothing uselessly.",13:"Be the change you wish to see in the world.",14:"Don't ever doubt yourselves or waste a second of your life. It's too short, and you're too special.",15:"What a wonderful life I've had! I only wish I'd realized it sooner.",16:"Love the life you live, and live the life you love. - Bob Marley",17:"Love isn't something you find. Love is something that finds you.",18:"No matter what has happened. No matter what you've done. No matter what you will do. I will always love you. I swear it.",19:"Darkness cannot drive out darkness: only light can do that. Hate cannot drive out hate: only love can do that.",20:"Immature love says: 'I love you because I need you.' Mature love says 'I need you because I love you.'",21:"Love is like the wind, you can't see it but you can feel it.",22:"It is better to be hated for what you are than to be loved for what you are not.",23:"Maybe it's too early to say I love you, but I can't keep it a secret. I've never felt this perfectly happy, and I wanted you to know that you're the reason why.",24:"Sometimes the heart sees what is invisible to the eye.",25:"It is not a lack of love, but a lack of friendship that makes unhappy marriages.",26:'"All, everything that I understand, I only understand because I love." - Leo Tolstoy',27:'"When you trip over love, it is easy to get up. But when you fall in love, it is impossible to stand again." - Albert Einstein',28:"The sweetest of all sounds is that of the voice of the one we love.",29:"Love is life. And if you miss love, you miss life.",30:'"The best and most beautiful things in this world cannot be seen or even heard, but must be felt with the heart."  - Helen Keller',31:"I am thankful for all of those who said NO to me. Its because of them I'm doing it myself. - Albert Einstein",32:"I've missed more than 9000 shots in my career. I've lost almost 300 games. 26 times I've been trusted to take the game winning shot and missed. I've failed over",33:"I don't regret the things I've done, I regret the things I didn't do when I had the chance. - Unknown",34:"I've learned that people will forget what you said, people will forget what you did, but people will never forget how you made them feel. - Maya Angelou",35:"When everything seems to be going against you, remember that the airplane takes off against the wind, not with it. - Henry Ford",36:"Whether you think you can or you think you can't, you're right. - Henry Ford",37:"You may be disappointed if you fail, but you are doomed if you don't try. - Beverly Sills",38:"If you cannot do great things, do small things in a great way.",39:"Failure is the condiment that gives success its flavor.",40:"Strive not to be a success, but rather to be of value. - Albert Einstein",41:"If you look at what you have in life, you'll always have more. If you look at what you don't have in life, you'll never have enough. - Oprah Winfrey",42:"Fairy tales are more than true: not because they tell us that dragons exist, but because they tell us that dragons can be beaten.",43:"In order to succeed, your desire for success should be greater than your fear of failure. - Bill Cosby",44:"The best revenge is massive success. - Frank Sinatra",45:"A journey of a thousand miles begins with a single step - Lao Tzu.",46:"Don't watch the clock; do what it does. Keep going.",47:"There are two ways to live your life. One is as though nothing is a miracle. The other is as though everything is a miracle - Albert Einstein.",48:"If you can dream it, you can do it.",49:"Your time is limited, so don't waste it living someone else's life. - Steve Jobs",50:"The mind is everything. What you think you become.  - Buddha",51:"Silence is the best way to react while angry.",52:"A drunk man's words are a sober man's thoughts.",53:"Of course I am gonna drive. I am too drunk to walk.",54:"Alcohol gives you infinite patience for stupidity.",55:"If you truly loved yourself, you could never hurt another. - Buddha",56:"The heart was made to be broken. - Oscar Wilde",57:"One word, Frees us of all the weight and pain of life: That word is love. - Sophocles",58:"The strength of Truth lies in Love and the strength of Love lies in Truth. - Pandurang S. Athavale",59:"Never pretend to a love which you don't actually feel, for love is not ours to command. - Alan Watts",60:"Say as you think and speak it from your souls. - William Shakespeare",61:"I don't have dirty mind, I have Sexy imagination.",62:"If you want to make your dreams come true, the first thing you have to do is wake up.",63:"Silence is the best answer to a FOOL.",64:"Only I can change my life. No one can do it for me. - Carol Burnett",65:"Try to solve your problem yourself... Don't Depend on other..!",66:"I don't have time to hate people bcz.. I'm busy loving people who love me.",67:"Peace comes from within. Do not seek it without. - Buddha",68:"I never see what has been done; I only see what remains to be done. - Buddha",69:"Hatred does not cease by hatred, but only by love; this is the eternal rule. - Buddha",70:"Whatever words we utter should be chosen with care for people will hear them and be influenced by them for good or ill. - Buddha",71:"Those who are free of resentful thoughts surely find peace. - Buddha",72:"I do not believe in a fate that falls on men however they act; but I do believe in a fate that falls on them unless they act. - Buddha",73:"To succeed in your mission, you must have single-minded devotion to your goal. - A. P. J. Abdul Kalam",74:"You see, God helps only people who work hard. That principle is very clear. - A. P. J. Abdul Kalam",75:"Let us sacrifice our today so that our children can have a better tomorrow. - A. P. J. Abdul Kalam",76:"If you want to shine like a sun, first burn like a sun. - A. P. J. Abdul Kalam",77:"You have to dream before your dreams can come true. - A. P. J. Abdul Kalam",78:"Do I not destroy my enemies when I make them my friends? - Abraham Lincoln",79:"All that I am, or hope to be, I owe to my angel mother. - Abraham Lincoln",80:"Look deep into nature, and then you will understand everything better. - Albert Einstein",81:"Try not to become a man of success, but rather try to become a man of value. - Albert Einstein",82:"The true sign of intelligence is not knowledge but imagination. - Albert Einstein",83:"A champion is someone who gets up when he can't. - Jack Dempsey",84:"You will not be punished for your anger, you will be punished by your anger. - Buddha",85:"Friends show their love in times of trouble, not in happiness. - Euripides",86:"Love is when the other person's happiness is more important than your own. - H. Jackson Brown, Jr.",87:"The greatest healing therapy is friendship and love. - Hubert H. Humphrey",88:"If you love someone, set them free. If they come back they're yours; if they don't they never were. - Richard Bach",89:"Success is not the key to happiness. Happiness is the key to success. If you love what you are doing, you will be successful. - Albert Schweitzer",90:"Tell me and I forget. Teach me and I remember. Involve me and I learn. - Benjamin Franklin",91:"We are all born ignorant, but one must work hard to remain stupid. - Benjamin Franklin",92:"Try not to become a man of success, but rather try to become a man of value. - Albert Einstein",93:"The true sign of intelligence is not knowledge but imagination. - Albert Einstein",94:"If you don't like something, change it. If you can't change it, change your attitude. - Maya Angelou",95:"A fool thinks himself to be wise, but a wise man knows himself to be a fool. - William Shakespeare",96:"It is not in the stars to hold our destiny but in ourselves. - William Shakespeare",97:"Sometimes life hits you in the head with a brick. Don't lose faith. - Steve Jobs",98:"In order to carry a positive action we must develop here a positive vision. - Dalai Lama",99:"If you have only one smile in you give it to the people you love. - Maya Angelou",100:"Share your smile with the world. It's a symbol of friendship and peace. - Christie Brinkley"}}var selected_background,bing_frame=document.getElementById("frame"),bing_opt=document.getElementById("bing-wrapper"),custom_opt=document.getElementById("custom-wrapper"),time_wraper=document.getElementById("current-time"),page_wraper=document.getElementById("back-page"),quote_wraper=document.getElementById("quote"),is_next_day=!1,image_refreshed=new Array,use_default_img=!0;const IMAGE_LIMIT=2,QUOTE_LIMIT=100,DEFAULT_IMAGE="images/default.jpg";for(var x=0;x<=IMAGE_LIMIT;x++)image_refreshed[x]=!1;chrome.storage.sync.get("selected_background",function(a){switch(a.selected_background){case"google":window.location.href="https://www.google.com";break;case"bing":bing_opt.style.display="block",bing_frame.src="https://www.bing.com";break;default:custom_opt.style.display="block",load_quotes(),customImagePageInit()}});